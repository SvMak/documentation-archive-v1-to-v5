<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Julien Dubois">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@java_hipster" />
    <meta name="twitter:title" content="Generate a full stack Java + JavaScript application in a few steps" />
    <meta name="twitter:description" content="JHipster is a fully Open Source, widely used application generator. It leverages cool technologies like Spring Boot, AngularJS and Yeoman to give you a high level of productivity and quality." />
    <meta name="twitter:image:src" content="http://jhipster.github.io/images/screenshot_1.png" />
    <meta name="twitter:url" content="http://jhipster.github.io/" />

    <title>Creating a service</title>

    <!-- Bootstrap Core CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Docs CSS subset to get icon -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/bootstrap-docs.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/plugins/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/sb-admin-2.css" rel="stylesheet">

    <!-- JHipster CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/css/app.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/documentation-archive-v1-to-v5/v2.13.1/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- JHipster Font -->
    <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16" />
<meta name="robots" content="noindex">
  </head>

  <body>

    <div id="wrapper">

      <!-- Sidebar -->
      <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          <a class="navbar-brand" href="/documentation-archive-v1-to-v5/v2.13.1/">JHipster</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav" id="side-menu">
                    <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/"><i class="icon-home"></i> Home</a></li>
                    <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/releases.html"><i class="icon-file-text-alt"></i> Release notes</a></li>
                    <li>
                        <a href="#"><i class="icon-road"></i> Introduction<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/presentation" target="_blank"><i class="icon-desktop"></i> Presentation</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/tech_stack.html"><i class="icon-stackexchange"></i> Technology stack</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/screenshots.html"><i class="icon-picture"></i> Screenshots</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/video_tutorial.html"><i class="icon-film"></i> Video tutorial</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="icon-wrench"></i> Setup<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/installation.html"><i class="icon-cloud-download"></i> Installation</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/creating_an_app.html"><i class="icon-rocket"></i> Creating an application</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/creating_an_entity.html"><i class="icon-bolt"></i> Creating an entity</a></li>
                            <li class="active"><a href="/documentation-archive-v1-to-v5/v2.13.1/creating_a_service.html"><i class="icon-bolt"></i> Creating a service</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/installing_new_languages.html"><i class="icon-flag"></i> Installing new languages</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/configuring_ide.html"><i class="icon-keyboard"></i> Configuring your IDE</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="icon-puzzle-piece"></i> Options<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/security.html"><i class="icon-lock"></i> Securing your app</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/using_dtos.html"><i class="icon-briefcase"></i> Using DTOs</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/using_elasticsearch.html"><i class="icon-search"></i> Using Elasticsearch</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/using_mongodb.html"><i class="icon-leaf"></i> Using MongoDB</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/using_cassandra.html"><i class="icon-eye-open"></i> Using Cassandra</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="icon-code"></i> Development<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/development.html"><i class="icon-code"></i> Using in development</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/profiles.html"><i class="icon-group"></i> Managing profiles</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/using_angularjs.html"><i class="icon-html5"></i> Using AngularJS</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/customizing_bootstrap.html"><i class="icon-css3"></i> Customizing Bootstrap</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="icon-umbrella"></i> Test<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/running_tests.html"><i class="icon-shield"></i> Running tests</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/setting_up_ci.html"><i class="icon-check"></i> Continuous Integration</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="icon-cloud"></i> Production<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/production.html"><i class="icon-play-circle"></i> Using in production</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/cloudfoundry.html"><i class="icon-cloud-upload"></i> Deploying to Cloud Foundry</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/heroku.html"><i class="icon-cloud-upload"></i> Deploying to Heroku</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/openshift.html"><i class="icon-cloud-upload"></i> Deploying to Openshift</a></li>
                        </ul>
                    </li>
                    <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/tips.html"><i class="icon-cogs"></i> Tips'n tricks</a></li>
                    <li>
                        <a href="#"><i class="icon-question"></i> Help and bugs<span class="icon-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/help.html"><i class="icon-group"></i> Community help</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/consulting.html"><i class="icon-user-md"></i> Professional help</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/training.html"><i class="icon-magic"></i> Training</a></li>
                            <li><a href="https://github.com/jhipster/generator-jhipster/issues" target="_blank"><i class="icon-bug"></i> Bug tracker</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.13.1/thanks.html"><i class="icon-gift"></i> Thanks</a></li>
                        </ul>
                    </li>
                    <li><a href="https://github.com/jhipster/generator-jhipster" target="_blank"><i class="icon-github"></i> GitHub</a></li>
                    <li><a href="https://gitter.im/jhipster/generator-jhipster" target="_blank"><i class="icon-comments-alt"></i> Chat</a></li>
                    <li><a href="https://twitter.com/java_hipster" target="_blank"><i class="icon-twitter"></i> Twitter</a></li>
                    <li>
<script>
  (function() {
    var cx = '004687894124070278856:-ryvp1pk0xi';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
                    </li>
                </ul>
            </div>
        </div>
      </nav>

      <div id="page-wrapper">
        
          <div class="row">
              <div class="col-lg-12">
                  <h1><i class="icon-bolt"></i> Creating a service</h1>

<h2>Introduction</h2>
<p>
  This is a very simple sub-generator, compared to the <a href="/creating_an_entity.html">"entity" sub-generator</a>.
</p>
<p>
  Its goal is to generate a Spring Service bean, which is where your application's business logic is supposed to be coded.
</p>
<p>
  In order to generate a "bar" Service bean, just type:
</p>
<p>
  <code>
  yo jhipster:service bar
  </code>
</p>
<p>
  <i>
  This will generate a simple "BarService": very few lines of codes, but they usually come with a lot of questions. We are trying to answer the most common ones below.
  </i>
</p>

<h2>Why aren't Service classes generated by the "entity" generator?</h2>

<p>
  We have two main architecture principles here:
</p>
<ul>
  <li>We don't want to promote creating useless Services: if all you need is a basic CRUD on your database, you don't need a Service bean. That's why, by default, JHipster doesn't generate them.</li>
  <li>We believe a Service bean to be more coarse-grained that a repository. A Service bean will use several repositories to provide business value on top of them. That's why Service beans cannot be generated with Entities.</li>
</ul>

<h2>Should we use interfaces with our Service Beans?</h2>
<p>
  Short answer: <b>No</b>.
</p>
<p>
  If you want the long answer, here it is:
</p>
<p>
  One of the main interests of using Spring is AOP. This is the technology that allows Spring to add new behaviors on top of your Beans: for instance, this is how transactions or security work.
</p>
<p>
  In order to add those behaviors, Spring needs to create a proxy on your class, and there are two ways of creating a proxy:
</p>
<ul>
  <li>If your class uses an interface, Spring will use a standard mechanism provided by Java to create a dynamic proxy.</li>
  <li>If your class doesn't use an interface, Spring will use CGLIB to generate a new class on the fly: this is not a standard Java mechanism, but it works as well as the standard mechanism.</li>
</ul>
<p>
  Some people will also argue that interfaces are better for writing tests, but we believe we shouldn't modify our production code for tests, and that all the new mocking frameworks (like EasyMock) allow you to create very good unit tests without any interfaces.
</p>
<p>
  So, in the end, we find that interfaces for your Service beans are mostly useless, and that's why we don't recommend them (but we leave you with the option to generate them!).
</p>

<h2>Why should I use transactions to fetch lazy JPA relationships?</h2>
<p>
  By default JPA uses lazy initialization of one-to-many and many-to-many entity relationships. If you use this default configuration, you will probably see the dreaded <code>LazyInitializationException</code>: it means you have tried to use an un-initialized relationship outside of a transaction.
</p>
<p>
  As the generated Service class has by default the <code>@Transactional</code> annotation, all of its methods are transactional. This means that you can fetch all the required lazy relationship inside those business methods, whitout any  <code>LazyInitializationException</code>.
</p>
<p>
  <i>Tip:</i> use <code>@Transactional(readOnly = true)</code> on a method if you are not modifying any data. This is a nice performance optimization (Hibernate won't need to flush its 1st level cache, as we are not modifying anything), as well as a quality enhancement with some JDBC drivers (Oracle won't allow you to send INSERT/UPDATE/DELETE statements)
</p>

<h2>Can we add security to Service Beans?</h2>

<p>
  Yes! Just add the standard Java <code>@RolesAllowed</code> annotation on your class or on your methods, and use the provided AuthoritiesConstants class to restrict access to specific user roles.
</p>

<h2>Can we monitor Service Beans?</h2>

<p>
  Yes! Just add Metrics' <code>@Timed</code> annotations on the methods you want to monitor.
</p>

              </div>
          </div><!-- /.row -->
        

        <div id="footer">
          <hr/>
        </div>
      </div><!-- /#page-wrapper -->

    </div><!-- /#wrapper -->

    <!-- JavaScript -->
    <!-- jQuery Version 1.11.0 -->
    <script src="/documentation-archive-v1-to-v5/v2.13.1/js/jquery-1.11.0.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.13.1/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.13.1/js/plugins/metisMenu/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.13.1/js/sb-admin-2.js"></script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46075199-1', 'jhipster.github.io');
  ga('send', 'pageview');

    </script>
  </body>
</html>
<script>
$(document.body).prepend('<div class="alert alert-danger alert-dismissible fade in" style="z-index: 9999;padding-top: 80px;height: 80;margin:0px;top:0;" role="alert"><h4><i class="fa fa-exclamation-triangle"><\/i> JHipster old documentation<\/h4><p>This documentation is for an older version of JHipster. Click <a href="https://jhipster.github.io/">here</a> for the current version of the documentation.<\/p><\/div>');</script>

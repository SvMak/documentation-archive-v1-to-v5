<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Julien Dubois">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@java_hipster" />
    <meta name="twitter:title" content="Generate a full stack Java + JavaScript application in a few steps" />
    <meta name="twitter:description" content="JHipster is a fully Open Source, widely used application generator. It leverages cool technologies like Spring Boot, AngularJS and Yeoman to give you a high level of productivity and quality." />
    <meta name="twitter:image:src" content="http://jhipster.github.io/images/screenshot_1.png" />
    <meta name="twitter:url" content="http://jhipster.github.io/" />

    <title>Using MS SQL Server</title>

    <!-- Bootstrap Core CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Docs CSS subset to get icon -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/bootstrap-docs.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/plugins/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Timeline CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/plugins/timeline.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/sb-admin-2.css" rel="stylesheet">

    <!-- JHipster CSS -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/css/app.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/documentation-archive-v1-to-v5/v2.21.0/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- JHipster Font -->
    <link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/images/favfa fa-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/favfa fa-16x16.png" sizes="16x16" />
<meta name="robots" content="noindex">
  </head>

  <body>

    <div id="wrapper">

      <!-- Sidebar -->
      <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="fa fa-bars"></span>
          </button>

          <a class="navbar-brand" href="/documentation-archive-v1-to-v5/v2.21.0/">JHipster</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
                <ul class="nav" id="side-menu">
                    <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/"><i class="fa fa-home"></i> Home</a></li>
                    <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/releases.html"><i class="fa fa-file-text-o"></i> Release notes</a></li>
                    <li>
                        <a href="#"><i class="fa fa-road"></i> JHipster in a few minutes<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/tech_stack.html"><i class="fa fa-stack-overflow"></i> Technology stack</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/presentation" target="_blank"><i class="fa fa-desktop"></i> Official JHipster slides</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/screenshots.html"><i class="fa fa-picture-o"></i> JHipster in 5 screenshots</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/video_tutorial.html"><i class="fa fa-film"></i> Video tutorial (20 minutes)</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-wrench"></i> Setting up your environment<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/installation.html"><i class="fa fa-cloud-download"></i> Install JHipster</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/configuring_ide.html"><i class="fa fa-keyboard-o"></i> Configuring Eclipse/IntelliJ</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-wrench"></i> Core JHipster tasks<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/creating_an_app.html"><i class="fa fa-rocket"></i> Creating an application</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/creating_an_entity.html"><i class="fa fa-bolt"></i> Creating an entity</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/creating_a_service.html"><i class="fa fa-bolt"></i> Creating a service</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_dtos.html"><i class="fa fa-briefcase"></i> Creating DTOs</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/managing_relationships.html"><i class="fa fa-sitemap"></i> Managing relationships</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/installing_new_languages.html"><i class="fa fa-flag"></i> Internationalization</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-puzzle-piece"></i> Options<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/security.html"><i class="fa fa-lock"></i> Securing your app</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_elasticsearch.html"><i class="fa fa-search"></i> Using Elasticsearch</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_websockets.html"><i class="fa fa-envelope"></i> Using Websockets</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_oracle.html"><i class="fa fa-archive"></i> Using Oracle</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_mongodb.html"><i class="fa fa-leaf"></i> Using MongoDB</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_cassandra.html"><i class="fa fa-eye"></i> Using Cassandra</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-code"></i> Development<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/development.html"><i class="fa fa-code"></i> Using in development</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/profiles.html"><i class="fa fa-group"></i> Managing profiles</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/using_angularjs.html"><i class="fa fa-html5"></i> Using AngularJS</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/customizing_bootstrap.html"><i class="fa fa-css3"></i> Customizing Bootstrap</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-umbrella"></i> Test<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/running_tests.html"><i class="fa fa-shield"></i> Running tests</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/setting_up_ci.html"><i class="fa fa-check"></i> Continuous Integration</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-cloud"></i> Production<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/production.html"><i class="fa fa-play-circle"></i> Using in production</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/cloudfoundry.html"><i class="fa fa-cloud-upload"></i> Deploying to Cloud Foundry</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/heroku.html"><i class="fa fa-cloud-upload"></i> Deploying to Heroku</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/openshift.html"><i class="fa fa-cloud-upload"></i> Deploying to Openshift</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/aws.html"><i class="fa fa-cloud-upload"></i> Deploying to AWS</a></li>
                        </ul>
                    </li>
                    <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/tips.html"><i class="fa fa-cogs"></i> Tips'n tricks</a></li>
                    <li >
                        <a href="/documentation-archive-v1-to-v5/v2.21.0/jhipster_uml.html"><i class="fa fa-magic"></i>
                            JHipster-UML
                        </a>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-question"></i> Help and bugs<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/help.html"><i class="fa fa-group"></i> Community help</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/consulting.html"><i class="fa fa-user-md"></i> Professional help</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/training.html"><i class="fa fa-graduation-cap "></i> Training</a></li>
                            <li><a href="https://github.com/jhipster/generator-jhipster/issues" target="_blank"><i class="fa fa-bug"></i> Bug tracker</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#"><i class="fa fa-star"></i> About<span class="fa fa-angle-right pull-right"></span></a>
                        <ul class="nav nav-second-level">
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/team.html"><i class="fa fa-coffee"></i> Team</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/policies.html"><i class="fa fa-gavel"></i> Policies</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/build_status.html"><i class="fa fa-industry"></i> Build status</a></li>
                            <li><a href="https://github.com/jhipster/generator-jhipster" target="_blank"><i class="fa fa-github"></i> GitHub</a></li>
                            <li><a href="https://gitter.im/jhipster/generator-jhipster" target="_blank"><i class="fa fa-comments"></i> Chat</a></li>
                            <li><a href="https://twitter.com/java_hipster" target="_blank"><i class="fa fa-twitter"></i> Twitter</a></li>
                            <li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/artwork.html"><i class="fa fa-pencil"></i> Artwork</a></li>
                            <li ><a href="/documentation-archive-v1-to-v5/v2.21.0/thanks.html"><i class="fa fa-gift"></i> Thanks</a></li>
                        </ul>
                    </li>
<script>
  (function() {
    var cx = '004687894124070278856:-ryvp1pk0xi';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
                    </li>
                </ul>
            </div>
        </div>
      </nav>

      <div id="page-wrapper">
        
          <div class="row">
              <div class="col-lg-12">
                  <h1 id="how-to-use-jhipster-with-ms-sql-server">How to use JHipster with MS SQL Server</h1>

<p><strong>Tip submitted by <a href="https://github.com/Zyst">@Zyst</a></strong></p>

<p><em>Goal:</em> By the end of this tutorial you will have the default JHipster application running on your SQL Server, with everything being functional.</p>

<p>Start by running JHipster normally with <code class="highlighter-rouge">yo jhipster</code>, select the options to use Java 8, token based authentication, SQL, MySQL as the dev. database, MySQL as the prod. database, Yes with ehcache, No Elasticsearch, No clustered HTTP, No Websockets, Maven, Grunt, and no Sass.</p>

<p>We then add the MS SQL Server JDBC dependency to the project <code class="highlighter-rouge">pom.xml</code> file.</p>

<p><em>pom.xml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[...]
&lt;!-- Microsoft JDBC --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;
    &lt;artifactId&gt;sqljdbc41&lt;/artifactId&gt;
    &lt;version&gt;4.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- Liquibase MS SQL Server extensions --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.github.sabomichal&lt;/groupId&gt;
    &lt;artifactId&gt;liquibase-mssql&lt;/artifactId&gt;
    &lt;version&gt;1.4&lt;/version&gt;
&lt;/dependency&gt;
[...]
</code></pre></div></div>

<p>I am using Sql JDBC 4.1, and already have it installed to my personal repository, but if you do not this will not work without some further configuration, check out <a href="https://stackoverflow.com/questions/30207842/add-external-library-jar-to-spring-boot-jar-internal-lib">this</a> stackoverflow question for further reference.</p>

<p>The Liquibase MS SQL Server extension allows you to do some neat stuff we will be using later on in this tutorial.</p>

<p>##Database modification</p>

<p>Go into <code class="highlighter-rouge">src\main\resources\config\application-dev.yml</code> and change your application to use the new datasource, and your Hibernate configuration to use the SQL Server dialect as seen below:</p>

<p><em>application-dev.yml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>spring:
    profiles:
        active: dev
    datasource:
        driverClassName: com.microsoft.sqlserver.jdbc.SQLServerDriver
        dataSourceClassName: com.microsoft.sqlserver.jdbc.SQLServerDataSource
        url: jdbc:sqlserver://localhost:1433;databaseName=test
        databaseName:
        serverName:
        username: myuser
        password: supersecretpassword
        cachePrepStmts: true
        prepStmtCacheSize: 250
        prepStmtCacheSqlLimit: 2048
        useServerPrepStmts: true

    jpa:
        database-platform: org.hibernate.dialect.SQLServerDialect
        database: SQL_SERVER
        openInView: false
        show_sql: true
        generate-ddl: false
        [...]
</code></pre></div></div>

<p>This assuming your database is called <code class="highlighter-rouge">test</code>, change your connection url as necessary.</p>

<p>Now go into <code class="highlighter-rouge">*\src\main\resources\config\liquibase\changelog\00000000000000_initial_schema.xml</code> and at the top of the file change the following properties:</p>

<p><em>00000000000000_initial_schema.xml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"&gt;

    &lt;property name="now" value="now()" dbms="mysql,h2"/&gt;
    &lt;property name="now" value="current_timestamp" dbms="postgresql"/&gt;
    &lt;property name="now" value="GETDATE()" dbms="mssql"/&gt;

    &lt;changeSet id="00000000000000" author="jhipster" dbms="postgresql"&gt;
        &lt;createSequence sequenceName="hibernate_sequence" startValue="1000" incrementBy="1"/&gt;
    &lt;/changeSet&gt;
    [...]
</code></pre></div></div>

<p>First, make sure you changed your xml databaseChangeLog property to include the ext. Now inside <code class="highlighter-rouge">src\main\resources\config\liquibase\changelog\00000000000000_initial_schema.xml</code> find the data entries and change them:</p>

<p><em>00000000000000_initial_schema.xml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;ext:loadData encoding="UTF-8"
          file="config/liquibase/users.csv"
          separator=";"
          tableName="JHI_USER" identityInsertEnabled="true"&gt;
    &lt;column name="activated" type="boolean"/&gt;
    &lt;column name="created_date" type="timestamp"/&gt;
&lt;/ext:loadData&gt;
&lt;dropDefaultValue tableName="JHI_USER" columnName="created_date" columnDataType="datetime"/&gt;

&lt;ext:loadData encoding="UTF-8"
              file="config/liquibase/authorities.csv"
              separator=";"
              tableName="JHI_AUTHORITY"
              identityInsertEnabled="true" /&gt;

&lt;ext:loadData encoding="UTF-8"
              file="config/liquibase/users_authorities.csv"
              separator=";"
              tableName="JHI_USER_AUTHORITY"
              identityInsertEnabled="true" /&gt;
</code></pre></div></div>

<p>Adding the <code class="highlighter-rouge">identityInsertEnabled="true"</code> is the same as wrapping your Inserts with <code class="highlighter-rouge">IDENTITY_INSERT ON</code> and <code class="highlighter-rouge">IDENTITY_INSERT OFF</code> which will allow you to insert the project autogenerated identities directly. This is why we are using the MS SQL Server Liquibase for.</p>

<p>Now try running your application! Everything should be working and you should be on your way to continue using your JHipster application with SQL Server.</p>

              </div>
          </div><!-- /.row -->
        

        <div id="footer">
          <hr/>
        </div>
      </div><!-- /#page-wrapper -->

    </div><!-- /#wrapper -->

    <!-- JavaScript -->
    <!-- jQuery Version 1.11.0 -->
    <script src="/documentation-archive-v1-to-v5/v2.21.0/js/jquery-1.11.0.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.21.0/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.21.0/js/plugins/metisMenu/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/documentation-archive-v1-to-v5/v2.21.0/js/sb-admin-2.js"></script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46075199-1', 'jhipster.github.io');
  ga('send', 'pageview');

    </script>
  </body>
</html>
<script>
$(document.body).prepend('<div class="alert alert-danger alert-dismissible fade in" style="z-index: 9999;padding-top: 80px;height: 80;margin:0px;top:0;" role="alert"><h4><i class="fa fa-exclamation-triangle"><\/i> JHipster old documentation<\/h4><p>This documentation is for an older version of JHipster. Click <a href="https://jhipster.github.io/">here</a> for the current version of the documentation.<\/p><\/div>');</script>
